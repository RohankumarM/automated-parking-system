{"version":3,"sources":["images/parking-space.svg","images/booking.svg","shared/context/authContext.js","base.js","components/Login.js","components/Nav/SignedInLinks.js","components/Nav/SignOutLinks.js","components/Nav.js","components/Home.js","components/Loading.js","components/Account.js","components/ParkingCard.js","components/InfoWindowEx.js","components/Map.js","components/BarChart.js","components/FindSpace.js","components/Book.js","App.js","index.js"],"names":["module","exports","AuthContext","createContext","isLoggedIn","login","logout","signUp","userID","fire","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Login","useHistory","useContext","useState","setUser","username","setUsername","numberPlate","setNumberPlate","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","clearErrors","authListener","auth","onAuthStateChanged","user","useEffect","login_ref","useRef","container","sign_up","className","ref","action","onSubmit","event","preventDefault","setPersistence","Auth","Persistence","LOCAL","then","signInWithEmailAndPassword","profile","catch","err","code","message","console","log","autoFocus","required","type","placeholder","value","onChange","e","target","href","onClick","createUserWithEmailAndPassword","database","uid","set","src","alt","id","current","classList","add","remove","SignedInLinks","to","SignOutLinks","Nav","darkMode","handleDarkMode","Switch","checked","size","Typography","Home","React","Component","useStyles","makeStyles","theme","root","display","marginLeft","spacing","Loading","classes","CircularProgress","StyledTableCell","withStyles","head","backgroundColor","palette","common","black","color","white","body","fontSize","TableCell","StyledTableRow","hover","TableRow","Account","authContext","accountInfo","setAccountInfo","previousBookingData","setPreviousBookingData","currentBookingData","setCurrentBookingData","setPaymentCleared","paymentInfo","bookingInfo","orderByKey","equalTo","on","snapshot","previousData","Object","values","val","previousBooking","orderByChild","userInfo","Accordion","AccordionSummary","expandIcon","aria-controls","AccordionDetails","TableContainer","component","Paper","Table","aria-label","TableHead","align","TableBody","keys","map","dataId","index","key","scope","fullName","bookingStartTime","bookingEndTime","ParkingCard","state","location","props","status","fullStatus","totalParkingLeft","totalParkingSpace","inputStyle","handleBooking","EmptyStyle","borderTop","FullStyle","Card","CardActionArea","CardMedia","image","parkingSpace","CardContent","gutterBottom","variant","this","entries","borderStyle","style","InfoWindowEx","infoWindowRef","createRef","contentElement","document","createElement","ReactDOM","render","Children","only","children","infowindow","setContent","mapStyles","width","height","Map","showingInfoWindow","activeMarker","selectedPlace","parkingFullStatus","currentLatLng","onMarkerClick","marker","setState","onClose","locationLatLng","lat","lng","child","data","Location","parkingStatus","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","google","zoom","initialCenter","name","icon","visible","GoogleApiWrapper","BarChart","parkingData","canvasRef","days","setDays","showChart","setShowChart","setPData","daysArray","forEach","childSnapshot","timeStamp","day","Date","getDay","push","svg","d3","append","attr","margin","top","right","bottom","left","graphWidth","graphHeight","graph","xAxisGroup","yAxisGroup","y","range","x","paddingInner","paddingOuter","xAxis","yAxis","ticks","tickFormat","d","selectAll","countParkingPerDays","domain","count","item","rect","exit","bandwidth","transition","duration","enter","call","update","arr","reduce","acc","element","FindSpace","handleSignout","signOut","Book","moment","locale","momentLocalizer","history","messaging","minDate","utcOffset","format","slice","max","maxDate","_d","locationSelect","setLocationSelect","bookingConfirmed","setFullName","setBookingStartTime","setBookingEndTime","showBookingForm","setShowBookingForm","bookingData","setBookingData","bookingNo","setBookingNo","arrivedStatus","setArrivedStatus","messagingToken","setMessagingToken","requestPermission","getToken","token","onMessage","notification","alert","once","exists","arrived","bookingStatus","a","fetch","method","headers","JSON","stringify","response","utils","DateFnsUtils","Booking","label","onError","minutesStep","colSpan","bookingParkingNumber","App","routes","setDarkMode","setIsLoggedIn","setUserID","useCallback","signup","path","exact","createMuiTheme","Provider","ThemeProvider","getElementById"],"mappings":"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","file":"static/js/main.6c02225a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/parking-space.3ff6560a.svg\";","module.exports = __webpack_public_path__ + \"static/media/booking.3f1464be.svg\";","import { createContext } from 'react';\r\n\r\nexport const AuthContext = createContext({\r\n  isLoggedIn: false, \r\n  login: () => { }, \r\n  logout: () => { },\r\n  signUp: () => { },\r\n  userID: '',\r\n});","import * as firebase from 'firebase';\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n};\r\n// Initialize Firebase\r\nconst fire = firebase.initializeApp(config);\r\n\r\nexport default fire;\r\n","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport FacebookIcon from '@material-ui/icons/Facebook';\r\nimport GTranslateIcon from '@material-ui/icons/GTranslate';\r\nimport { AuthContext } from '../shared/context/authContext';\r\nimport fire from '../base';\r\nimport * as firebase from 'firebase';\r\nimport { useHistory } from 'react-router-dom';\r\nimport '../styles/Login.css';\r\n\r\nconst Login = ({ userID }) => {\r\n\r\n  const history = useHistory();\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const [user, setUser] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [numberPlate, setNumberPlate] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [emailError, setEmailError] = useState('');\r\n  const [passwordError, setPasswordError] = useState('');\r\n\r\n  const clearInputs = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  const clearErrors = () => {\r\n    setEmailError('');\r\n    setPasswordError('');\r\n  }\r\n\r\n  const handleFirebaseLogin = (event) => {\r\n    event.preventDefault();\r\n    clearErrors();\r\n    fire.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL).then(() => {\r\n      return fire.auth().signInWithEmailAndPassword(email, password)\r\n      .then((profile) => {\r\n      }).catch(err => {\r\n        switch (err.code) {\r\n          case \"auth/invalid-user\":\r\n          case \"auth/user-disabled\":\r\n          case \"auth/user-not-found\":\r\n            setEmailError(err.message);\r\n            break;\r\n          case \"auth/wrong-password\":\r\n            setPasswordError(err.message);\r\n            break;\r\n          default:\r\n        }\r\n      });\r\n    })\r\n    .catch((err) => console.log(err));\r\n  };\r\n\r\n  const handleFirebaseSignUp = (event) => {\r\n    event.preventDefault();\r\n    clearErrors();\r\n    fire.auth().createUserWithEmailAndPassword(email, password)\r\n    .then((profile) => {\r\n      // authContext.signUp();\r\n      fire.database().ref('users/' + profile.user.uid)\r\n      .set({\r\n        username,\r\n        numberPlate,\r\n        email\r\n      });\r\n    })\r\n      .catch(err => {\r\n        switch (err.code) {\r\n          case \"auth/email-already-in-use\":\r\n          case \"auth/invalid-user\":\r\n            setEmailError(err.message);\r\n            break;\r\n          case \"auth/weak-password\":\r\n            setPasswordError(err.message);\r\n            break;\r\n          default:\r\n        }\r\n      });\r\n  };\r\n  const authListener = () => {\r\n    fire.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        clearInputs();\r\n      }\r\n      else {\r\n        setUser('');\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    authListener();\r\n  }, []);\r\n\r\n  const login_ref = useRef(null);\r\n  const container = useRef(null);\r\n  const sign_up = useRef(null);\r\n\r\n  const handleLoginAnimation = () => {\r\n    container.current.classList.add(\"sign-up-mode\");\r\n  };\r\n\r\n  const handleSignUpAnimation = () => {\r\n    container.current.classList.remove(\"sign-up-mode\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\" ref={container}>\r\n      <div className=\"form-container\">\r\n        <div className=\"form-login-signup\">\r\n\r\n          <form action=\"\" className=\"login-form\" onSubmit={handleFirebaseLogin}>\r\n            <h2 className=\"title\">Login</h2>\r\n            <div className=\"input-field\">\r\n              <AccountCircleIcon className=\"icon\" />\r\n              <input autoFocus required type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n              <p className=\"errorMsg\">{emailError}</p>\r\n            </div>\r\n            <div className=\"input-field\">\r\n              <LockIcon className=\"icon\" />\r\n              <input type=\"password\" value={password} placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} required/>\r\n              <p className=\"errorMsg\">{passwordError}</p>\r\n            </div>\r\n            <input type=\"submit\" value=\"Login\" className=\"login_btn\" />\r\n\r\n            <p className=\"social_login\">Or Sign In With Social Platforms</p>\r\n            <div className=\"social-media\">\r\n              <a href=\"/login\" className=\"social-icon\">\r\n                <GTranslateIcon />\r\n              </a>\r\n              <a href=\"/login\" className=\"social-icon\">\r\n                <FacebookIcon />\r\n              </a>\r\n            </div>\r\n          </form>\r\n\r\n          <form action=\"\" className=\"signup-form\" onClick={handleFirebaseSignUp}>\r\n            <h2 className=\"title\">Signup</h2>\r\n            <div className=\"input-field\">\r\n              <AccountCircleIcon className=\"icon\" />\r\n              <input type=\"text\" placeholder=\"Username\" onChange={(e) => setUsername(e.target.value)}/>\r\n            </div>\r\n            <div className=\"input-field\">\r\n              <img className=\"number-plate\" src=\"https://cdn.iconscout.com/icon/premium/png-256-thumb/number-plate-1582888-1337733.png\" alt=\"number plate\" />\r\n              <input type=\"text\" placeholder=\"Number Plate\" required onChange={(e) => setNumberPlate(e.target.value)}/>\r\n            </div>\r\n            <div className=\"input-field\">\r\n              <AccountCircleIcon className=\"icon\" />\r\n              <input type=\"email\" value={email} placeholder=\"Email\" required onChange={(e) => setEmail(e.target.value)} />\r\n            </div>\r\n            <div className=\"input-field\">\r\n              <LockIcon className=\"icon\" />\r\n              <input type=\"password\" value={password} placeholder=\"Password\" required onChange={(e) => setPassword(e.target.value)} />\r\n            </div>\r\n            <input type=\"submit\" value=\"SignUp\" className=\"login_btn\" />\r\n\r\n            <p className=\"social_login\">Or Sign In With Social Platforms</p>\r\n            <div className=\"social-media\">\r\n              <a href=\"/login\" className=\"social-icon\">\r\n                <GTranslateIcon />\r\n              </a>\r\n              <a href=\"/login\" className=\"social-icon\">\r\n                <FacebookIcon />\r\n              </a>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"panels-container\">\r\n        <div className=\"panel left-panel\">\r\n          <div className=\"content\">\r\n            <h3>New Here?</h3>\r\n            <p>Sign Up and start using Smart Parking System to save time and reduce Pollution.</p>\r\n            <button className=\"btn transparent\" id=\"login-btn\" ref={login_ref} onClick={handleLoginAnimation}>Sign Up</button>\r\n          </div>\r\n\r\n          <img className=\"image\" src=\"https://img.freepik.com/free-vector/smart-parking-man-user-with-smartphone-touch-screen-control-car-driving-to-park_33099-165.jpg\" alt=\"\" />\r\n        </div>\r\n\r\n        <div className=\"panel right-panel\">\r\n          <div className=\"content\">\r\n            <h3>One of us?</h3>\r\n            <p>Welcome to Smart Parking System</p>\r\n            <button className=\"btn transparent\" id=\"sign-up-btn\" ref={sign_up} onClick={handleSignUpAnimation}>Login</button>\r\n          </div>\r\n\r\n          <img className=\"image\" src=\"https://www.joy-mobility.com/img/joy-mobility-corp-carsharing-svg.svg\" alt=\"\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { AuthContext } from '../../shared/context/authContext';\r\n\r\nfunction SignedInLinks() {\r\n\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className=\"signed-in-links\">\r\n    <ul>\r\n      <Link to=\"/findSpace\">\r\n      <li>Find Space</li>\r\n      </Link>\r\n      <Link to=\"/account\">\r\n      <li>Account</li>\r\n      </Link>\r\n      <Link to=\"/book\">\r\n      <li>Book</li>\r\n      </Link>\r\n      <Link to=\"/login\">\r\n      <li onClick={auth.logout}>Logout</li>\r\n      </Link>\r\n    </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignedInLinks;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction SignOutLinks() {\r\n\r\n  return (\r\n    <div className=\"signed-out-links\">\r\n    <ul>\r\n      <Link to=\"/findSpace\">\r\n      <li>Find Space</li>\r\n      </Link>\r\n      <Link to=\"/login\">\r\n      <li>Login</li>\r\n      </Link>\r\n    </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignOutLinks;\r\n","import React, { useRef, useContext } from 'react';\r\nimport '../styles/Nav.css';\r\nimport SignInLinks from './Nav/SignedInLinks';\r\nimport SignOutLinks from './Nav/SignOutLinks';\r\nimport { AuthContext } from '../shared/context/authContext';\r\nimport { Switch, Typography } from '@material-ui/core';\r\n\r\nconst Nav = ({ user, darkMode, handleDarkMode }) => {\r\n\r\n  const navbar = useRef(null);\r\n\r\n  const auth = useContext(AuthContext);\r\n  console.log(user);\r\n\r\n  // const handleEvent = (e) =>{\r\n  //   navbar.current.classList.toggle('active');\r\n  // };\r\n\r\n\r\n  return (\r\n    <nav>\r\n      <div className=\"header\">Smart Parking System</div>\r\n      {auth.isLoggedIn ? <SignInLinks /> : <SignOutLinks />}\r\n      <div className=\"dark-mode-container\">\r\n      <Switch className=\"dark-mode-btn\" checked={darkMode} onChange={handleDarkMode} size='small'/>\r\n      <Typography className=\"dark-mode-font\">Dark Mode</Typography>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Nav;\r\n","import React from 'react';\r\nimport '../styles/Home.css';\r\n\r\nclass Home extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"home\">\r\n        <div className=\"intro\">\r\n          <h2>Welcome to the Intelligent Parking System</h2>\r\n          <h5>I am here to help you find parking places which are available before you step out of your house.</h5>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > * + *': {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst Loading = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CircularProgress />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading;\r\n","import React, { useState, useEffect, useContext, useRef } from 'react';\r\nimport { AuthContext } from '../shared/context/authContext';\r\nimport { Accordion, AccordionSummary, AccordionDetails, Typography } from '@material-ui/core';\r\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport fire from '../base';\r\nimport Loading from './Loading';\r\nimport '../styles/account.css';\r\n\r\nconst StyledTableCell = withStyles((theme) => ({\r\n  head: {\r\n    backgroundColor: theme.palette.common.black,\r\n    color: theme.palette.common.white,\r\n  },\r\n  body: {\r\n    fontSize: 14,\r\n  },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme) => ({\r\n  root: {\r\n    '&:nth-of-type(odd)': {\r\n      backgroundColor: theme.palette.action.hover,\r\n    },\r\n  },\r\n}))(TableRow);\r\n\r\nconst Account = () => {\r\n\r\n  // const webcamRef = React.useRef(null);\r\n  // const [imgSrc, setImgSrc] = React.useState(null);\r\n  // const videoConstraints = {\r\n  //   width: 600,\r\n  //   height: 600,\r\n  //   facingMode: \"user\",\r\n  // };\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const [accountInfo, setAccountInfo] = useState();\r\n  const [previousBookingData, setPreviousBookingData] = useState([]);\r\n  const [currentBookingData, setCurrentBookingData] = useState([]);\r\n  // const [entryCapturePlate, setEntryCapturePlate] = useState(false);\r\n  // const [exitCapturePlate, setExitCapturePlate] = useState(false);\r\n  const [paymentCleared, setPaymentCleared] = useState(false);\r\n  const [paymentInfo, setPaymentInfo] = useState(false);\r\n  // const [paymentCleared, setPaymentCleared] = useState(true);\r\n  const [open, setOpen] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n    const bookingInfo = fire.database().ref('Booking');\r\n    //fetching previous booking\r\n    fire.database().ref('users').orderByKey().equalTo(`${authContext.userID}`)\r\n      .on('value', (snapshot) => {\r\n        let previousData = Object.values(snapshot.val());\r\n        setPreviousBookingData(previousData[0].previousBooking);\r\n      });\r\n\r\n    bookingInfo.orderByChild(\"bookingStatus\").equalTo(`active_${authContext.userID}`)\r\n      .on(\"value\", (snapshot) => {\r\n        console.log(snapshot.val());\r\n        setCurrentBookingData(snapshot.val());\r\n      });\r\n\r\n    //fetching User Info\r\n    fire.database().ref('users').orderByKey().equalTo(`${authContext.userID}`)\r\n      .on('value', snapshot => {\r\n        const userInfo = Object.values(snapshot.val());\r\n        setAccountInfo(userInfo[0]);\r\n      })\r\n\r\n\r\n  }, [])\r\n\r\n\r\n  // useEffect(() => {\r\n\r\n  //   const parkingInfo = fire.database().ref('Parking Lot A');\r\n  //   parkingInfo.child('entryCapture').on('value', (snap) => {\r\n  //     if (snap.val() === true) {\r\n  //       setEntryCapturePlate(true);\r\n  //     } else {\r\n  //       setEntryCapturePlate(false);\r\n  //     }\r\n  //   });\r\n\r\n  //   parkingInfo.child('exitCapture').on('value', (snap) => {\r\n  //     if (snap.val() === true) {\r\n  //       setExitCapturePlate(true);\r\n  //     } else {\r\n  //       setExitCapturePlate(false);\r\n  //     }\r\n  //   })\r\n  // });\r\n\r\n  // const capture = () => {\r\n  //   const imageSrc = webcamRef.current.getScreenshot();\r\n  //   setImgSrc(imageSrc);\r\n  // }\r\n\r\n  // useEffect(() => {\r\n  //   if (entryCapturePlate === true || exitCapturePlate === true) {\r\n  //     capture();\r\n  //   }\r\n  // }, [entryCapturePlate, exitCapturePlate]);\r\n\r\n  // useEffect(() => {\r\n  //   if (entryCapturePlate) {\r\n  //     fire.database().ref('Parking Lot A').child('plateImg').push({\r\n  //       imgSrc\r\n  //     })\r\n  //   }\r\n  //   else if (exitCapturePlate) {\r\n  //     fire.database().ref('Parking Lot A').child('exitPlateImage').push({\r\n  //       imgSrc\r\n  //     })\r\n  //   }\r\n  //   console.log(imgSrc);\r\n  // }, [imgSrc]);\r\nconsole.log(previousBookingData)\r\n  const handlePayment = () => {\r\n    setPaymentCleared(true);\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"account\">\r\n      {accountInfo ? <div className=\"account-info\">\r\n        <div className=\"account-data\">\r\n          <h3>Name</h3>\r\n          <p>{accountInfo.username}</p>\r\n        </div>\r\n        <div className=\"account-data\">\r\n          <h3>Email</h3>\r\n          <p>{accountInfo.email}</p>\r\n        </div>\r\n        <div className=\"account-data\">\r\n          <h3>Number Plate</h3>\r\n          <p>{accountInfo.numberPlate}</p>\r\n        </div>\r\n      </div> : <Loading />}\r\n\r\n      {currentBookingData || previousBookingData\r\n        ? <div><Accordion className=\"account-container\">\r\n          <AccordionSummary\r\n            expandIcon={<ExpandMoreIcon />}\r\n            aria-controls=\"panel1a-content\"\r\n            id=\"panel1a-header\"\r\n          >\r\n            <Typography className=\"heading\">All Bookings</Typography>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <Typography className=\"text\">\r\n              <div className=\"previous-booking\">\r\n                <TableContainer component={Paper}>\r\n                  <Table className=\"table-container\" aria-label=\"customized table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <StyledTableCell>Location</StyledTableCell>\r\n                        <StyledTableCell align=\"right\">Full Name</StyledTableCell>\r\n                        <StyledTableCell align=\"right\">Start Time</StyledTableCell>\r\n                        <StyledTableCell align=\"right\">End Time</StyledTableCell>\r\n                        <StyledTableCell align=\"right\">Number Plate</StyledTableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      {previousBookingData === null ? <Loading />\r\n                        : Object.keys(previousBookingData).map((dataId, index) => (\r\n                          <StyledTableRow key={index}>\r\n                            <StyledTableCell component=\"th\" scope=\"row\">\r\n                              Amroli\r\n                          </StyledTableCell>\r\n                            <StyledTableCell align=\"right\">{previousBookingData[dataId].fullName}</StyledTableCell>\r\n                            <StyledTableCell align=\"right\">{previousBookingData[dataId].bookingStartTime}</StyledTableCell>\r\n                            <StyledTableCell align=\"right\">{previousBookingData[dataId].bookingEndTime}</StyledTableCell>\r\n                            <StyledTableCell align=\"right\">{previousBookingData[dataId].numberPlate}</StyledTableCell>\r\n                          </StyledTableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </div>\r\n            </Typography>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n          <Accordion>\r\n            <AccordionSummary\r\n              expandIcon={<ExpandMoreIcon />}\r\n              aria-controls=\"panel2a-content\"\r\n              id=\"panel2a-header\"\r\n            >\r\n              <Typography className=\"heading\">Current Booking</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <Typography>\r\n                {currentBookingData ? <div className=\"previous-booking\">\r\n                  <TableContainer component={Paper}>\r\n                    <Table className=\"table-container\" aria-label=\"customized table\">\r\n                      <TableHead>\r\n                        <TableRow>\r\n                          <StyledTableCell>Location</StyledTableCell>\r\n                          <StyledTableCell align=\"right\">Full Name</StyledTableCell>\r\n                          <StyledTableCell align=\"right\">Start Time</StyledTableCell>\r\n                          <StyledTableCell align=\"right\">End Time</StyledTableCell>\r\n                          <StyledTableCell align=\"right\">Number Plate</StyledTableCell>\r\n                        </TableRow>\r\n                      </TableHead>\r\n                      <TableBody>\r\n                        {Object.keys(currentBookingData).map((dataId, index) => (\r\n                          <StyledTableRow key={index}>\r\n                            <StyledTableCell component=\"th\" scope=\"row\">\r\n                              Amroli\r\n                          </StyledTableCell>\r\n                            <StyledTableCell align=\"right\">{currentBookingData[dataId].fullName}</StyledTableCell>\r\n                            <StyledTableCell align=\"right\">{currentBookingData[dataId].bookingStartTime}</StyledTableCell>\r\n                            <StyledTableCell align=\"right\">{currentBookingData[dataId].bookingEndTime}</StyledTableCell>\r\n                            <StyledTableCell align=\"right\">{currentBookingData[dataId].numberPlate}</StyledTableCell>\r\n                          </StyledTableRow>\r\n                        ))}\r\n                      </TableBody>\r\n                    </Table>\r\n                  </TableContainer>\r\n                </div>\r\n                  : <div>You have no current booking, plan one right now. </div>}\r\n              </Typography>\r\n            </AccordionDetails>\r\n          </Accordion>\r\n        </div>\r\n        : <div><Accordion className=\"account-container\">\r\n          <AccordionSummary\r\n            expandIcon={<ExpandMoreIcon />}\r\n            aria-controls=\"panel1a-content\"\r\n            id=\"panel1a-header\"\r\n          >\r\n            <Typography className=\"heading\">All Bookings</Typography>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <Typography className=\"text\">\r\n              Go ahead and plan your first booking with us!\r\n            </Typography>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n          <Accordion>\r\n            <AccordionSummary\r\n              expandIcon={<ExpandMoreIcon />}\r\n              aria-controls=\"panel2a-content\"\r\n              id=\"panel2a-header\"\r\n            >\r\n              <Typography className=\"heading\">Current Booking</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <Typography>\r\n                Go ahead and plan your first booking with us!\r\n              </Typography>\r\n            </AccordionDetails>\r\n          </Accordion>\r\n        </div>}\r\n      <div className=\"payment\">\r\n        {paymentInfo ? <div><button onClick={handlePayment}>PAY</button></div>\r\n          : <div>No payment Info</div>\r\n        }\r\n      </div>\r\n\r\n      {/* <Webcam\r\n        audio={false}\r\n        height={600}\r\n        ref={webcamRef}\r\n        screenshotFormat=\"image/jpeg\"\r\n        width={600}\r\n        videoConstraints={videoConstraints} />\r\n      <button onClick={capture}>Capture photo</button>\r\n      {imgSrc && (\r\n        <img\r\n          src={imgSrc}\r\n        />\r\n      )} */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Account;\r\n\r\n\r\n","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { Card, CardActionArea, CardActions, CardContent, CardMedia, Button, Typography } from '@material-ui/core';\r\nimport parkingSpace from '../images/parking-space.svg';\r\nimport \"../styles/ParkingCard.css\";\r\n\r\n\r\nclass ParkingCard extends React.Component {\r\n  state = {\r\n    location: this.props.location,\r\n    status: this.props.status,\r\n    fullStatus: this.props.fullStatus,\r\n    totalParkingLeft: this.props.totalParkingLeft,\r\n    totalParkingSpace: this.props.totalParkingSpace,\r\n    inputStyle: '',\r\n  };\r\n\r\n  handleBooking = (e) => {\r\n    console.log('booking');\r\n  }\r\n\r\n  render() {\r\n    let EmptyStyle = {\r\n      borderTop: '6px solid green'\r\n    };\r\n    let FullStyle = {\r\n      borderTop: '6px solid red'\r\n    };\r\n\r\n    return (\r\n      <div className=\"parkingCard\">\r\n        <div className=\"app-left\">\r\n\r\n          <Card className=\"root\">\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className=\"media\"\r\n                image={parkingSpace}\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  Parking at {this.state.location}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                  Total Parking: {this.state.totalParkingSpace}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                  Available Parking: {this.state.totalParkingLeft}\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            {this.state.fullStatus === 'Full' ? <div className=\"booking-status\">Parking Full, Check back in sometime!</div>\r\n              : <div className=\"booking-status\">Click on Book Tab to book parking</div>}\r\n          </Card>\r\n        </div>\r\n\r\n        <div className=\"app-right\">\r\n          <div className=\"car-status-display\">\r\n            {Object.entries(this.state.status).map((status, index) => {\r\n              let borderStyle = (status[1] === 'Full') ? FullStyle : EmptyStyle;\r\n              if (status[1] === 'Full') {\r\n                return (<Paper key={index} style={borderStyle} className=\"car-display\">\r\n                  <h4>{index + 1}</h4>\r\n                  <img\r\n                    src=\"https://cdn.iconscout.com/icon/free/png-256/car-booking-1817189-1538057.png\"\r\n                    alt=\"car\" />\r\n\r\n                </Paper>)\r\n              }\r\n              else {\r\n                return (<Paper style={borderStyle} className=\"car-display\">\r\n                  <h4>{index + 1}</h4>\r\n                </Paper>\r\n                )\r\n              }\r\n            })\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ParkingCard;\r\n","import React, { useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { InfoWindow } from \"google-maps-react\";\r\n\r\nconst InfoWindowEx = (props) => {\r\n  const infoWindowRef = React.createRef();\r\n  const contentElement = document.createElement(`div`);\r\n  useEffect(() => {\r\n    ReactDOM.render(React.Children.only(props.children), contentElement);\r\n    infoWindowRef.current.infowindow.setContent(contentElement);\r\n  }, [props.children]);\r\n  return <InfoWindow ref={infoWindowRef} {...props} />;\r\n}\r\n\r\nexport default InfoWindowEx;","import React from 'react';\r\nimport { Map as GoogleMaps, GoogleApiWrapper, InfoWindow, Marker } from 'google-maps-react';\r\nimport ParkingCard from './ParkingCard';\r\nimport InfoWindowEx from './InfoWindowEx';\r\nimport * as firebase from 'firebase';\r\n\r\nconst mapStyles = {\r\n  width: '50%',\r\n  height: '90%',\r\n};\r\n\r\nexport class Map extends React.Component {\r\n  state = {\r\n    showingInfoWindow: false,  // Hides or shows the InfoWindow\r\n    activeMarker: {},          // Shows the active marker upon click\r\n    selectedPlace: {},          // Shows the InfoWindow to the selected place upon a marker\r\n    location: '',\r\n    status: [],\r\n    parkingFullStatus: false,\r\n    totalParkingSpace: 5,\r\n    currentLatLng: null,\r\n    totalParkingLeft: 5\r\n  };\r\n\r\n  componentDidMount() {\r\n    const rootRef = firebase.database().ref().child(\"Parking Lot A\");\r\n    rootRef.on('value', snapshot => {\r\n      var data = snapshot.val();\r\n      console.log(data);\r\n      this.setState({\r\n        location: data.Location,\r\n        status: data.parkingStatus,\r\n        totalParkingSpace: data.totalParkingSpace,\r\n        totalParkingLeft: data.totalParkingLeft,\r\n        parkingFullStatus: data.parkingFullStatus\r\n      });\r\n    });\r\n\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      this.setState({\r\n        currentLatLng: {\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  onMarkerClick = (props, marker, e) =>\r\n    this.setState({\r\n      selectedPlace: props,\r\n      activeMarker: marker,\r\n      showingInfoWindow: true\r\n    });\r\n\r\n  onClose = props => {\r\n    if (this.state.showingInfoWindow) {\r\n      this.setState({\r\n        showingInfoWindow: false,\r\n        activeMarker: null\r\n      });\r\n    }\r\n  };\r\n\r\n  locationLatLng = {\r\n    lat: 21.2352936,\r\n    lng: 72.8544311,\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"map\">\r\n        <GoogleMaps\r\n          google={this.props.google}\r\n          zoom={12}\r\n          style={mapStyles}\r\n          initialCenter={this.locationLatLng}\r\n        >\r\n\r\n          <Marker\r\n            onClick={this.onMarkerClick}\r\n            name={'Amroli'}\r\n            icon={this.state.parkingFullStatus === true ? 'http://maps.google.com/mapfiles/ms/icons/red-dot.png'\r\n              : 'http://maps.google.com/mapfiles/ms/icons/green-dot.png'}\r\n          />\r\n          <InfoWindowEx\r\n            marker={this.state.activeMarker}\r\n            visible={this.state.showingInfoWindow}\r\n            onClose={this.onClose}\r\n          >\r\n            <div>\r\n              <ParkingCard\r\n              location={this.state.location} \r\n              status={this.state.status}\r\n              fullStatus={this.state.parkingFullStatus}\r\n              totalParkingLeft={this.state.totalParkingLeft}\r\n              totalParkingSpace={this.state.totalParkingSpace}\r\n              />\r\n            </div>\r\n          </InfoWindowEx>\r\n        </GoogleMaps>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY\r\n})(Map);\r\n\r\n","import React, { useState, useEffect, useRef, useLayoutEffect } from 'react';\r\nimport fire from '../base';\r\nimport * as d3 from 'd3';\r\n\r\nconst BarChart = () => {\r\n  const canvasRef = useRef();\r\n  const [days, setDays] = useState([]);\r\n  const [showChart, setShowChart] = useState();\r\n  const [pData, setPData] = useState();\r\n  let daysArray = [];\r\n\r\n  let parkingData;\r\n\r\n  const getData = () => {\r\n    fire.database().ref('Parking Lot A/plateImg')\r\n      .on('value', snapshot => {\r\n\r\n        snapshot.forEach(childSnapshot => {\r\n          let key = childSnapshot.key;\r\n          console.log(key);\r\n          const timeStamp = snapshot.child(key).child('entryTime').val();\r\n          const day = new Date(timeStamp).getDay();\r\n          console.log(day);\r\n          daysArray.push(day);\r\n        });\r\n        setDays(daysArray);\r\n        setShowChart(true);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n\r\n    getData();\r\n    \r\n  }, []);\r\n\r\n  useEffect(() => {\r\n\r\n    if (showChart) {\r\n      const svg = d3.select(canvasRef.current)\r\n        .append('svg')\r\n        .attr('width', 500)\r\n        .attr('height', 500);\r\n\r\n      const margin = { top: 20, right: 10, bottom: 100, left: 80 };\r\n      const graphWidth = 400 - margin.left - margin.right;\r\n      const graphHeight = 400 - margin.top - margin.bottom;\r\n\r\n      const graph = svg.append('g')\r\n        .attr('width', graphWidth)\r\n        .attr('height', graphHeight)\r\n        .attr('transform', `translate(${margin.left}, ${margin.top})`);\r\n\r\n      const xAxisGroup = graph.append('g')\r\n        .attr('transform', `translate(0, ${graphHeight})`);\r\n\r\n      const yAxisGroup = graph.append('g');\r\n\r\n      //Scales\r\n      const y = d3.scaleLinear()\r\n        .range([graphHeight, 0]);\r\n\r\n      const x = d3.scaleBand()\r\n        .range([0, 400])\r\n        .paddingInner(0.2)\r\n        .paddingOuter(0.2);\r\n\r\n      //create the axes\r\n      const xAxis = d3.axisBottom(x);\r\n      const yAxis = d3.axisLeft(y)\r\n        .ticks(6)\r\n        .tickFormat(d => d + ' cars')\r\n\r\n\r\n      xAxisGroup.selectAll('text')\r\n        .attr('transform', 'rotate(-40)')\r\n        .attr('text-anchor', 'end')\r\n        .attr('fill', 'orange');\r\n\r\n      //update chart upon data\r\n      const update = (data) => {\r\n\r\n        //updating scales\r\n        y.domain([0, d3.max(data, d => d.count * 5)]);\r\n        x.domain(data.map(item => item.day));\r\n\r\n        //join update data to the elements\r\n        const rect = graph.selectAll('rect')\r\n          .data(data)\r\n\r\n        //remove unwanted shapes \r\n        rect.exit().remove();\r\n\r\n        //update current shapes in dom\r\n        rect\r\n          .attr('width', x.bandwidth)\r\n          .attr('fill', 'orange')\r\n          .attr('x', d => x(d.day))\r\n          .transition().duration(500)\r\n          .attr('height', d => graphHeight - y(d.count))\r\n          .attr('y', d => y(d.count));\r\n\r\n        //append the enter selection to the DOM\r\n        rect.enter()\r\n          .append('rect')\r\n          .attr('width', x.bandwidth)\r\n          .attr('height', 0)\r\n          .attr('fill', 'orange')\r\n          .attr('x', d => x(d.day))\r\n          .attr('y', graphHeight)\r\n          .transition().duration(500)\r\n          .attr('y', d => y(d.count))\r\n          .attr('height', d => graphHeight - y(d.count));\r\n\r\n        xAxisGroup.call(xAxis);\r\n        yAxisGroup.call(yAxis);\r\n      }\r\n\r\n      parkingData = [\r\n        {\r\n          \"day\": \"Sunday\",\r\n          \"count\": countParkingPerDays(days, 0)\r\n        },\r\n        {\r\n          \"day\": \"Monday\",\r\n          \"count\": countParkingPerDays(days, 1)\r\n        },\r\n        {\r\n          \"day\": \"Tuesday\",\r\n          \"count\": countParkingPerDays(days, 2)\r\n        },\r\n        {\r\n          \"day\": \"Wednesday\",\r\n          \"count\": countParkingPerDays(days, 3)\r\n        },\r\n        {\r\n          \"day\": \"Thursday\",\r\n          \"count\": countParkingPerDays(days, 4)\r\n        },\r\n        {\r\n          \"day\": \"Friday\",\r\n          \"count\": countParkingPerDays(days, 5)\r\n        },\r\n        {\r\n          \"day\": \"Saturday\",\r\n          \"count\": countParkingPerDays(days, 6)\r\n        }\r\n      ];\r\n      console.log(parkingData)\r\n      setPData(parkingData);\r\n      update(parkingData);\r\n    }\r\n  }, [showChart]);\r\n\r\n  const countParkingPerDays = (arr, val) => {\r\n    return arr.reduce((acc, element) => {\r\n      return (val === element ? acc + 1 : acc);\r\n    }, 0);\r\n  }\r\n\r\n  return (\r\n    <div ref={canvasRef}>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BarChart;","import React, { Component } from 'react';\r\nimport Map from './Map';\r\nimport fire from '../base';\r\nimport BarChart from './BarChart';\r\nimport '../styles/FindSpace.css';\r\n\r\n\r\nclass FindSpace extends Component {\r\n  state = {\r\n    location: \"\",\r\n    status: [],\r\n    totalParkingSpace: 20,\r\n    inputStyle: ''\r\n  };\r\n\r\n  handleSignout = () => {\r\n    fire.auth().signOut();\r\n    this.setState({\r\n      isLoggedIn: false\r\n    });\r\n  };\r\n\r\n  mapStyles = {\r\n    width: '100%',\r\n    height: '100%'\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"findSpace\">\r\n        <div className=\"left\">\r\n          {/* Display MAP */}\r\n          <Map />\r\n        </div>\r\n\r\n        <div className=\"right\">\r\n          <div className=\"data-visualization\">\r\n            <BarChart />\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default FindSpace;\r\n\r\n\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport LocationOnRoundedIcon from '@material-ui/icons/LocationOnRounded';\r\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\r\nimport { AuthContext } from '../shared/context/authContext';\r\nimport Booking from '../images/booking.svg';\r\nimport moment from 'moment';\r\nimport fire from '../base';\r\nimport momentLocalizer from 'react-widgets-moment';\r\nimport { KeyboardDateTimePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Paper } from '@material-ui/core';\r\nimport '../styles/Book.css';\r\n\r\nconst Book = (props) => {\r\n\r\n  moment.locale('en');\r\n  momentLocalizer();\r\n\r\n  const history = useHistory();\r\n  const messaging = fire.messaging();\r\n\r\n  const authContext = useContext(AuthContext);\r\n  let minDate = moment().utcOffset(\"+05:30\").format().slice(0, 16);\r\n  let max = moment().add(2, 'days');\r\n  let maxDate = moment(max._d).utcOffset(\"+05:30\").format().slice(0, 16);\r\n\r\n  let bookingInfo;\r\n  const [locationSelect, setLocationSelect] = useState();\r\n  const [bookingConfirmed, setBookingConfirmed] = useState(false);\r\n  const [fullName, setFullName] = useState([]);\r\n  const [numberPlate, setNumberPlate] = useState([]);\r\n  const [bookingStartTime, setBookingStartTime] = useState();\r\n  const [bookingEndTime, setBookingEndTime] = useState();\r\n  const [showBookingForm, setShowBookingForm] = useState(true);\r\n  const [bookingData, setBookingData] = useState([]);\r\n  const [bookingNo, setBookingNo] = useState();\r\n  const [arrivedStatus, setArrivedStatus] = useState(false);\r\n  const [messagingToken, setMessagingToken] = useState();\r\n\r\n  // let bookingReservedTime = 0;\r\n\r\n  useEffect(() => {\r\n    if (bookingConfirmed) {\r\n      history.push('/account');\r\n    }\r\n\r\n    messaging.requestPermission().then(() => {\r\n      return messaging.getToken()\r\n    }).then(token => {\r\n      console.log(token)\r\n      setMessagingToken(token);\r\n      return token;\r\n    })\r\n      .catch(err => {\r\n        console.log(err);\r\n        return err;\r\n      })\r\n  }, []);\r\n\r\n  fire.messaging().onMessage(notification => {\r\n    alert('Notification received!', notification);\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (authContext.userID) {\r\n      fire.database().ref('Booking').orderByChild('userId').equalTo(`${authContext.userID}`)\r\n        .once('value', (snapshot) => {\r\n          if (snapshot.exists()) {\r\n            setShowBookingForm(false);\r\n            // console.log(Object.keys(snapshot.val())[0]);\r\n            let key = Object.keys(snapshot.val())[0];\r\n            // console.log(snapshot.child(key).val());\r\n            setBookingNo(key);\r\n            setBookingData(snapshot.child(key).val());\r\n            if (snapshot.child(key).val().arrived) {\r\n              setArrivedStatus(true);\r\n            }\r\n            else {\r\n              setArrivedStatus(false);\r\n            }\r\n          }\r\n        });\r\n    }\r\n  }, [showBookingForm]);\r\n\r\n\r\n  if (bookingStartTime && bookingEndTime) {\r\n    bookingInfo = {\r\n      location: locationSelect,\r\n      userID: authContext.userID,\r\n      fullName,\r\n      numberPlate,\r\n      bookingStartTime: moment(bookingStartTime).utcOffset(\"+05:30\").format().slice(0, 16),\r\n      bookingEndTime: moment(bookingEndTime).utcOffset(\"+05:30\").format().slice(0, 16),\r\n      bookingStatus: `active_${authContext.userID}`,\r\n      messagingToken\r\n    }\r\n  }\r\n\r\n  const handleBooking = async (e) => {\r\n    e.preventDefault();\r\n    await fetch('https://us-central1-smart-parking-system-9d0dc.cloudfunctions.net/newBooking', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify(bookingInfo)\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n        setShowBookingForm(false);\r\n      })\r\n      .catch(err => {\r\n        console.log('Error occurred while booking, Sorry!', err);\r\n      });\r\n  }\r\n\r\n\r\n  return (\r\n    <Paper>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <div className=\"book\">\r\n          <div className=\"booking-logo\">\r\n            <h1>Book your parking</h1>\r\n            <img src={Booking} alt=\"booking\" />\r\n          </div>\r\n          {showBookingForm ? <div className=\"bookingForm-container\">\r\n            <form className=\"bookingForm\" onSubmit={handleBooking}>\r\n              <div className=\"booking-input\">\r\n                <LocationOnRoundedIcon className=\"icon\" />\r\n                <select autoFocus name=\"cars\" className=\"dropdown\" value={locationSelect} onChange={e => setLocationSelect(e.target.value)}>\r\n                  <option>Select a location</option>\r\n                  <option value=\"Amroli\">Amroli</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"booking-input\">\r\n                <PersonIcon className=\"icon\" />\r\n                <input required type=\"text\" placeholder=\"Full Name\" value={fullName} onChange={e => setFullName(e.target.value)}></input>\r\n              </div>\r\n              <div className=\"booking-input\">\r\n                <img className=\"number-plate\" src=\"https://cdn.iconscout.com/icon/premium/png-256-thumb/number-plate-1582888-1337733.png\" alt=\"number plate\" />\r\n                <input type=\"text\" placeholder=\"Number Plate\" value={numberPlate} required onChange={e => setNumberPlate(e.target.value)}></input>\r\n              </div>\r\n              <div className=\"booking-input\">\r\n                <AccessTimeIcon className=\"icon\" />\r\n                <KeyboardDateTimePicker\r\n                  value={bookingStartTime}\r\n                  onChange={setBookingStartTime}\r\n                  label=\"Booking Start Time\"\r\n                  onError={console.log}\r\n                  minDate={minDate}\r\n                  maxDate={maxDate}\r\n                  format=\"yyyy/MM/dd hh:mm a\"\r\n                  minutesStep={15}\r\n                />\r\n              </div>\r\n              <div className=\"booking-input\">\r\n                <AccessTimeIcon className=\"icon\" />\r\n                <KeyboardDateTimePicker\r\n                  value={bookingEndTime}\r\n                  onChange={setBookingEndTime}\r\n                  label=\"Booking End Time\"\r\n                  onError={console.log}\r\n                  minDate={minDate}\r\n                  maxDate={maxDate}\r\n                  format=\"yyyy/MM/dd hh:mm a\"\r\n                  minutesStep={15}\r\n                />\r\n              </div>\r\n              <input type=\"submit\" value=\"Book\" className=\"booking-btn\" />\r\n            </form>\r\n          </div>\r\n            : <div className=\"booking-receipt\">\r\n              <div className=\"booking-receipt-header\">Booking Receipt</div>\r\n              <div className=\"booking-receipt-container\">\r\n                <table className=\"receipt-info\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <th>Full Name</th>\r\n                      <th>Booking No.</th>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>{bookingData.fullName}</td>\r\n                      <td>{bookingNo}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Booking Start Time: </th>\r\n                      <th>Booking End Time: </th>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>{moment(bookingData.bookingStartTime).format('MMMM Do YYYY, h:mm a')}</td>\r\n                      <td>{moment(bookingData.bookingEndTime).format('MMMM Do YYYY, h:mm a')}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Number Plate</th>\r\n                      <th colSpan=\"2\">Parking Number</th>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>{bookingData.numberPlate}</td>\r\n                      <td>{bookingData.bookingParkingNumber}</td>\r\n                    </tr>\r\n                    <tr className=\"parking-status\">\r\n                      <th>Parking Status:</th>\r\n                      <td>{arrivedStatus ? 'Arrived' : 'Not yet Arrived'}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          }\r\n        </div >\r\n      </MuiPickersUtilsProvider>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Book;\r\n","import React, { useState, useCallback } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport Login from './components/Login';\nimport Nav from './components/Nav';\nimport Home from './components/Home';\nimport Account from './components/Account';\nimport FindSpace from './components/FindSpace';\nimport Book from './components/Book';\n// import logo from './images/method-draw-image.svg';\nimport { AuthContext } from './shared/context/authContext';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport fire from './base';\nimport './App.css';\n\nconst App = () => {\n\n  // const [user, setUser] = useState('');\n  const [darkMode, setDarkMode] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userID, setUserID] = useState('');\n\n\n  const login = useCallback(() => {\n    setIsLoggedIn(true);\n  }, []);\n\n  const signup = useCallback(() => {\n    // setIsLoggedIn(true);\n  })\n\n  const logout = useCallback(() => {\n    setIsLoggedIn(false);\n    fire.auth().signOut();\n  }, []);\n  console.log(isLoggedIn);\n\n  // const handlesetuserID = (id) => {\n  //   setUserID(id);\n  //   console.log(userID);\n  // }\n\n  let routes;\n  fire.auth().onAuthStateChanged((user) => {\n    if (user) {\n      console.log(user);\n      setIsLoggedIn(true);\n      setUserID(user.uid);\n    }\n  });\n\n  if (isLoggedIn) {\n    routes = (\n      <Switch>\n        <Route path=\"/account\">\n          <Account />\n        </Route>\n        <Route path=\"/book\">\n          <Book />\n        </Route>\n        <Route path=\"/findSpace\">\n          <FindSpace />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  }\n  else {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Home />\n        </Route>\n        <Route path=\"/findSpace\">\n          <FindSpace />\n        </Route>\n        <Route path=\"/login\" render={(props) => <Login userID={userID} {...props} />} >\n        </Route>\n        <Redirect to=\"/login\" />\n      </Switch>\n    );\n  }\n\n\n\n  const theme = createMuiTheme({\n    palette: {\n      type: darkMode ? \"dark\" : \"light\",\n    }\n  });\n\n  const handleDarkMode = () => {\n    darkMode === false ?\n      setDarkMode(true) :\n      setDarkMode(false);\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{ isLoggedIn: isLoggedIn, login: login, logout: logout, signUp: signup, userID: userID }}\n    >\n      <ThemeProvider theme={theme}>\n        <div className=\"app\">\n\n          <Paper className=\"main-container\">\n            <Router>\n              {/* <img className=\"logo\" src={logo} alt=\"image\" /> */}\n              <Nav\n                darkMode={darkMode}\n                handleDarkMode={handleDarkMode} />\n\n              {routes}\n            </Router>\n\n          </Paper>\n        </div>\n      </ThemeProvider>\n    </AuthContext.Provider>\n  )\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\n    <App />\n  ,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}